<div *ngIf="loading" class="text-center text-lg font-semibold text-gray-600">
  Loading cart...
</div>

<div
  *ngIf="errorMessage"
  class="bg-red-100 text-red-800 p-4 rounded-md shadow-md"
>
  <p>{{ errorMessage }}</p>
</div>

<div
  *ngIf="cart"
  class="max-w-2xl mx-auto bg-white shadow-lg rounded-2xl p-6 mt-6"
>
  <h2 class="text-2xl font-bold text-gray-800 mb-4">
    Cart for User ID: <span class="text-blue-600">{{ cart.userId }}</span>
  </h2>

  <div class="mb-4 text-lg">
    <strong class="text-gray-700">Total Price:</strong>
    <span class="text-green-600 font-semibold">Rs. {{ cart.totalPrice }}</span>
  </div>

  <h3 class="text-xl font-semibold text-gray-700 mb-2">Items:</h3>
  <div
    *ngFor="let item of cart.items"
    class="border rounded-lg p-4 mb-4 bg-gray-50"
  >
    <div class="mb-2">
      <strong class="text-gray-700">Size:</strong>
      <span class="text-gray-900">{{ item.size }}</span>
    </div>

    <div>
      <strong class="text-gray-700">Ingredients:</strong>
      <ul class="list-disc list-inside text-gray-600">
        <li *ngFor="let ingredient of item.ingredients || []" class="ml-4">
          {{ ingredient }}
        </li>
      </ul>
    </div>
  </div>

  <div class="timestamps text-gray-600 mt-4 border-t pt-4">
    <p><strong>Created At:</strong> {{ cart.createdAt | date: "fullDate" }}</p>
    <p><strong>Updated At:</strong> {{ cart.updatedAt | date: "fullDate" }}</p>
  </div>

  <!-- Buy Items Button -->
  <button
    (click)="buyItems()"
    class="w-full mt-6 bg-blue-600 text-white text-lg font-semibold py-3 rounded-xl hover:bg-blue-700 transition duration-300"
  >
    Buy Items
  </button>
</div>
